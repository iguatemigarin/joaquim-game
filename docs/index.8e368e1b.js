const t=document.createElement("canvas"),i=t.getContext("2d");Object.assign(t.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%"});const e=()=>{t.width=window.innerWidth,t.height=window.innerHeight},s=new class{constructor(t,i=[]){this.id=t,this.children=i}render(t){let e=this.children.length;for(let s=0;s<e;s+=1)i.translate(0,0),i.fillStyle="black",this.children[s].render(t)}}("Root renderTree"),h=()=>{e(),s.render(),requestAnimationFrame(h)};class n{constructor(t=0,i=0){this.x=t,this.y=i}add(t){return new n(this.x+t.x,this.y+t.y)}}const r=16/9;class d{constructor(t,i){this.id=t+"-world-entity",this.mass=i?.mass||0,this.center=i?.center||new n,this.velocity=i.velocity||new n,this.acceleration=i.acceleration||new n}update(){this.velocity.add(this.acceleration),this.center.add(this.velocity)}}const o=new class{constructor(i,e=[]){this.id=i,this.children=e,this.unit=1,this.width=t.width,this.height=t.height,this.origin=new n}render(){this.updateOrigin(),this.updateDimentions(),this.updateUnitsScale(),this.drawRect(),this.children.forEach(t=>t.render(this))}updateUnitsScale(){this.unit=this.width/100}updateDimentions(){let{width:i,height:e}=t;this.width=e*r,this.height=e,this.width>i&&(this.width=i,this.height=i/r)}updateOrigin(){this.origin=new n(t.width/2-this.width/2,t.height/2-this.height/2)}drawRect(){i.translate(this.origin.x,this.origin.y),i.strokeRect(0,0,this.width,this.height),i.setTransform(1,0,0,1,0,0)}addChild(t){this.children.push(t)}}("main stage");o.addChild(new class{constructor(t,i=1,e="red",s){this.id=t,this.radius=i,this.color=e,this.id=t+"-ball",this.physics=new d(this.id,{...s})}render(t){i.translate(t.origin.x,t.origin.y),i.beginPath(),i.arc(this.physics.center.x*t.unit,this.physics.center.y*t.unit,this.radius*t.unit,0,360),i.fillStyle=this.color,i.fill(),i.setTransform(1,0,0,1,0,0)}}("ball one",10,"blue",{center:new n(10,20)}));const c=new class{constructor(t){this.id=t,this.tick=Date.now(),this.now=Date.now(),this.msSinceLastCount=0,this.framesInS=0,this.text=""}render(){this.updateNow(),this.updateMsSinceLastCount(),this.shouldResetFPSCounter()&&this.resetFPSCounter(),this.incrementFPSCounter(),this.updateTick(),this.drawText()}updateNow(){this.now=Date.now()}updateMsSinceLastCount(){this.msSinceLastCount+=this.now-this.tick}updateTick(){this.tick=this.now}shouldResetFPSCounter(){return this.msSinceLastCount>=500}resetFPSCounter(){this.text=(2*this.framesInS).toString()+"fps",this.msSinceLastCount=0,this.framesInS=0}incrementFPSCounter(){this.framesInS++}drawText(){i.font="24px sans-serif",i.fillText(this.text,10,50)}}("fps");document.body.appendChild(t),s.children.push(o),s.children.push(c),h();
//# sourceMappingURL=index.8e368e1b.js.map
